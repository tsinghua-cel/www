import{_ as a,c as s,o as p,ae as l}from"./chunks/framework.CLBIubxr.js";const _=JSON.parse('{"title":"Database Creation Statement","description":"","frontmatter":{},"headers":[],"relativePath":"db.md","filePath":"db.md"}'),t={name:"db.md"};function e(i,n,c,o,u,d){return p(),s("div",null,n[0]||(n[0]=[l(`<h1 id="database-creation-statement" tabindex="-1">Database Creation Statement <a class="header-anchor" href="#database-creation-statement" aria-label="Permalink to &quot;Database Creation Statement&quot;">â€‹</a></h1><p>The following are the SQL statements for creating the database and table structures. You can modify them as needed.</p><div class="language-mysql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>USE mysql;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CREATE USER &#39;eth&#39;@&#39;127.0.0.1&#39; IDENTIFIED BY &#39;12345678&#39;;</span></span>
<span class="line"><span>CREATE USER &#39;eth&#39;@&#39;%&#39; IDENTIFIED BY &#39;12345678&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>GRANT ALL ON *.* TO &#39;eth&#39;@&#39;%&#39;;</span></span>
<span class="line"><span>GRANT ALL ON *.* TO &#39;eth&#39;@&#39;127.0.0.1&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CREATE SCHEMA eth;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>USE eth;</span></span>
<span class="line"><span>create table if not exists project</span></span>
<span class="line"><span>(</span></span>
<span class="line"><span>    id                bigint auto_increment</span></span>
<span class="line"><span>        primary key,</span></span>
<span class="line"><span>    project_id        varchar(255) default &#39;&#39; not null,</span></span>
<span class="line"><span>    created_at        datetime                not null,</span></span>
<span class="line"><span>    updated_at        datetime                not null,</span></span>
<span class="line"><span>    strategy_category varchar(255) default &#39;&#39; not null,</span></span>
<span class="line"><span>    strategy_count    int          default 0  not null,</span></span>
<span class="line"><span>    latest_slot       bigint       default 0  not null</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>create table if not exists t_attest_duty</span></span>
<span class="line"><span>(</span></span>
<span class="line"><span>    id         bigint auto_increment</span></span>
<span class="line"><span>        primary key,</span></span>
<span class="line"><span>    project_id varchar(255) default &#39;&#39; not null,</span></span>
<span class="line"><span>    created_at datetime                not null,</span></span>
<span class="line"><span>    updated_at datetime                not null,</span></span>
<span class="line"><span>    epoch      bigint       default 0  not null,</span></span>
<span class="line"><span>    slot       bigint       default 0  not null,</span></span>
<span class="line"><span>    validator  bigint       default 0  not null</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>create table if not exists t_attest_reward</span></span>
<span class="line"><span>(</span></span>
<span class="line"><span>    id              bigint auto_increment</span></span>
<span class="line"><span>        primary key,</span></span>
<span class="line"><span>    project_id      varchar(255) default &#39;&#39; not null,</span></span>
<span class="line"><span>    created_at      datetime                not null,</span></span>
<span class="line"><span>    updated_at      datetime                not null,</span></span>
<span class="line"><span>    epoch           bigint       default 0  not null,</span></span>
<span class="line"><span>    validator_index int          default 0  not null,</span></span>
<span class="line"><span>    head_amount     bigint       default 0  not null,</span></span>
<span class="line"><span>    target_amount   bigint       default 0  not null,</span></span>
<span class="line"><span>    source_amount   bigint       default 0  not null</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>create table if not exists t_block_duty</span></span>
<span class="line"><span>(</span></span>
<span class="line"><span>    id         bigint auto_increment</span></span>
<span class="line"><span>        primary key,</span></span>
<span class="line"><span>    project_id varchar(255) default &#39;&#39; not null,</span></span>
<span class="line"><span>    created_at datetime                not null,</span></span>
<span class="line"><span>    updated_at datetime                not null,</span></span>
<span class="line"><span>    epoch      bigint       default 0  not null,</span></span>
<span class="line"><span>    slot       bigint       default 0  not null,</span></span>
<span class="line"><span>    validator  bigint       default 0  not null</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>create table if not exists t_block_reward</span></span>
<span class="line"><span>(</span></span>
<span class="line"><span>    id                       bigint auto_increment</span></span>
<span class="line"><span>        primary key,</span></span>
<span class="line"><span>    project_id               varchar(255) default &#39;&#39; not null,</span></span>
<span class="line"><span>    created_at               datetime                not null,</span></span>
<span class="line"><span>    updated_at               datetime                not null,</span></span>
<span class="line"><span>    slot                     bigint       default 0  not null,</span></span>
<span class="line"><span>    proposer_index           int          default 0  not null,</span></span>
<span class="line"><span>    total_amount             bigint       default 0  not null,</span></span>
<span class="line"><span>    attestation_amount       bigint       default 0  not null,</span></span>
<span class="line"><span>    sync_aggregate_amount    bigint       default 0  not null,</span></span>
<span class="line"><span>    proposer_slashing_amount bigint       default 0  not null,</span></span>
<span class="line"><span>    attester_slashing_amount bigint       default 0  not null</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>create table if not exists t_chain_reorg</span></span>
<span class="line"><span>(</span></span>
<span class="line"><span>    id                       bigint auto_increment</span></span>
<span class="line"><span>        primary key,</span></span>
<span class="line"><span>    project_id               varchar(255) default &#39;&#39; not null,</span></span>
<span class="line"><span>    created_at               datetime                not null,</span></span>
<span class="line"><span>    updated_at               datetime                not null,</span></span>
<span class="line"><span>    epoch                    bigint       default 0  not null,</span></span>
<span class="line"><span>    slot                     bigint       default 0  not null,</span></span>
<span class="line"><span>    depth                    int          default 0  not null,</span></span>
<span class="line"><span>    old_block_slot           bigint       default 0  not null,</span></span>
<span class="line"><span>    new_block_slot           bigint       default 0  not null,</span></span>
<span class="line"><span>    old_block_proposer_index bigint       default 0  not null,</span></span>
<span class="line"><span>    new_block_proposer_index bigint       default 0  not null,</span></span>
<span class="line"><span>    old_head_state           varchar(255) default &#39;&#39; not null,</span></span>
<span class="line"><span>    new_head_state           varchar(255) default &#39;&#39; not null</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>create table if not exists t_strategy</span></span>
<span class="line"><span>(</span></span>
<span class="line"><span>    id                     bigint auto_increment</span></span>
<span class="line"><span>        primary key,</span></span>
<span class="line"><span>    project_id             varchar(255)  default &#39;&#39; not null,</span></span>
<span class="line"><span>    created_at             datetime                 not null,</span></span>
<span class="line"><span>    updated_at             datetime                 not null,</span></span>
<span class="line"><span>    uuid                   varchar(255)  default &#39;&#39; not null,</span></span>
<span class="line"><span>    category               varchar(100)  default &#39;&#39; not null,</span></span>
<span class="line"><span>    content                varchar(4096) default &#39;&#39; not null,</span></span>
<span class="line"><span>    min_epoch              bigint        default 0  not null,</span></span>
<span class="line"><span>    max_epoch              bigint        default 0  not null,</span></span>
<span class="line"><span>    is_end                 tinyint(1)    default 0  not null,</span></span>
<span class="line"><span>    reorg_count            int           default 0  not null,</span></span>
<span class="line"><span>    impact_validator_count int           default 0  not null,</span></span>
<span class="line"><span>    honest_lose_rate_avg   double        default 0  not null,</span></span>
<span class="line"><span>    attacker_lose_rate_avg double        default 0  not null</span></span>
<span class="line"><span>);</span></span></code></pre></div>`,3)]))}const f=a(t,[["render",e]]);export{_ as __pageData,f as default};
